import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as e,o as n}from"./app-CdUgMfhD.js";const t={};function l(r,s){return n(),a("div",null,s[0]||(s[0]=[e(`<h2 id="vue-vite-sass-报错处理-sass-3-0-0" tabindex="-1"><a class="header-anchor" href="#vue-vite-sass-报错处理-sass-3-0-0"><span>vue vite sass 报错处理 Sass 3.0.0</span></a></h2><h3 id="_1-sass-import-rules-are-deprecated-and-will-be-removed-in-dart-sass-3-0-0" tabindex="-1"><a class="header-anchor" href="#_1-sass-import-rules-are-deprecated-and-will-be-removed-in-dart-sass-3-0-0"><span>1. Sass @import rules are deprecated and will be removed in Dart Sass 3.0.0</span></a></h3><p>sass 1.80 不再支持 @import 需要使用 \`@use’</p><p>错误提示:</p><blockquote><p>DEPRECATION WARNING: Sass @import rules are deprecated and will be removed in Dart Sass 3.0.0.<br> More info and automated migrator: <a href="https://sass-lang.com/d/import" target="_blank" rel="noopener noreferrer">https://sass-lang.com/d/import</a><br> --<code>@import &quot;./element-plus.scss&quot;</code>;</p></blockquote><p>修改方法:</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">use</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;@/variables.scss&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-deprecation-warning-global-built-in-functions-are-deprecated-and-will-be-removed-in-dart-sass-3-0-0" tabindex="-1"><a class="header-anchor" href="#_2-deprecation-warning-global-built-in-functions-are-deprecated-and-will-be-removed-in-dart-sass-3-0-0"><span>2. Deprecation Warning: Global built-in functions are deprecated and will be removed in Dart Sass 3.0.0.</span></a></h3><p>sass 1.80 不再支持全局内置函数</p><p>错误提示:</p><blockquote><p>Deprecation Warning: Global built-in functions are deprecated and will be removed in Dart Sass 3.0.0.<br> Use string.slice instead.<br> More info and automated migrator: <a href="https://sass-lang.com/d/import" target="_blank" rel="noopener noreferrer">https://sass-lang.com/d/import</a><br> -- <code>flex-direction: map-get($flex-fds, str-slice($str, 1, 1))</code>;</p></blockquote><p>修改方法:</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">npm</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> install</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> sass</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">migrator</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">$</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> sass</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">migrator</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> module</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> --</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">migrate</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">deps</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">YOUR</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">ENTRYPOINT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">scss</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-deprecation-warning-the-legacy-js-api-is-deprecated-and-will-be-removed-in-dart-sass-2-0-0" tabindex="-1"><a class="header-anchor" href="#_3-deprecation-warning-the-legacy-js-api-is-deprecated-and-will-be-removed-in-dart-sass-2-0-0"><span>3. Deprecation Warning: The legacy JS API is deprecated and will be removed in Dart Sass 2.0.0.</span></a></h3><p>sass 1.80 不再支持老的 js api 接口</p><p>错误提示:<br> 在开发环境启动 vite@5、sass@1.69.x 项目后，发现控制台出现如下的 warning 报错：</p><blockquote><p>Deprecation Warning: The legacy JS API is deprecated and will be removed in Dart Sass 2.0.0.<br> More info: <a href="https://sass-lang.com/d/legacy-js-api" target="_blank" rel="noopener noreferrer">https://sass-lang.com/d/legacy-js-api</a></p></blockquote><blockquote><p>原因分析：<br> 其实通过报错提供的链接就可以知道，sass 提供的某些 js api 即将在 v2.0.0 的新版本中废弃了，提醒你及时更新</p></blockquote><p>解决方案：<br> 1、降级 sass 版本到 1.32.13，这是没有警告的最后一个版本<br> 2、在 vite.config.ts 中关闭警告</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> defineConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  css</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    preprocessorOptions</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      scss</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // quietDeps: true, // 可以尝试，但在高版本中似乎不起作用</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        silenceDeprecations</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;legacy-js-api&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3、前面两种方案指标不治本，最优解法是使用新版 api 解决根本问题：</p><p>修改方法 <code>vue.config.js</code>:</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> defineConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  css</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    preprocessorOptions</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      scss</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        api</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;modern-compiler&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// or &#39;modern&#39;  // 修改api调用方式</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-internal-server-error-sass-undefined-variable" tabindex="-1"><a class="header-anchor" href="#_4-internal-server-error-sass-undefined-variable"><span>4. Internal server error: [sass] Undefined variable.</span></a></h3><p>sass 1.80 全局变量和 mixin 需要手动导出</p><p>错误提示:</p><blockquote><p>[vite] Internal server error: [sass] Undefined variable.<br> color: $color-blue;</p></blockquote><blockquote><p>[vite] Internal server error: [sass] Undefined mixin.<br> @include func(css);<br> ^^^^^^^^^^^^^^^</p></blockquote><blockquote><p>修改方法 <code>vue.config.js</code>:</p></blockquote><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> defineConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  css</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    preprocessorOptions</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      scss</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        additionalData</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> \`@use &quot;@/variables.scss&quot; as *;\`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 导出全局变量和 mixin</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,30)]))}const h=i(t,[["render",l],["__file","scss.html.vue"]]),k=JSON.parse('{"path":"/css/scss.html","title":"scss报错处理","lang":"zh-CN","frontmatter":{"title":"scss报错处理","date":"2025-02-26T00:00:00.000Z","article":false,"description":"vue vite sass 报错处理 Sass 3.0.0 1. Sass @import rules are deprecated and will be removed in Dart Sass 3.0.0 sass 1.80 不再支持 @import 需要使用 `@use’ 错误提示: DEPRECATION WARNING: Sass @imp...","head":[["meta",{"property":"og:url","content":"https://hr-koala.github.io/htblog/htblog/css/scss.html"}],["meta",{"property":"og:site_name","content":"博客和随笔"}],["meta",{"property":"og:title","content":"scss报错处理"}],["meta",{"property":"og:description","content":"vue vite sass 报错处理 Sass 3.0.0 1. Sass @import rules are deprecated and will be removed in Dart Sass 3.0.0 sass 1.80 不再支持 @import 需要使用 `@use’ 错误提示: DEPRECATION WARNING: Sass @imp..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-26T12:39:55.000Z"}],["meta",{"property":"article:published_time","content":"2025-02-26T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-26T12:39:55.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"scss报错处理\\",\\"description\\":\\"vue vite sass 报错处理 Sass 3.0.0 1. Sass @import rules are deprecated and will be removed in Dart Sass 3.0.0 sass 1.80 不再支持 @import 需要使用 `@use’ 错误提示: DEPRECATION WARNING: Sass @imp...\\"}"]]},"headers":[{"level":2,"title":"vue vite sass 报错处理 Sass 3.0.0","slug":"vue-vite-sass-报错处理-sass-3-0-0","link":"#vue-vite-sass-报错处理-sass-3-0-0","children":[{"level":3,"title":"1. Sass @import rules are deprecated and will be removed in Dart Sass 3.0.0","slug":"_1-sass-import-rules-are-deprecated-and-will-be-removed-in-dart-sass-3-0-0","link":"#_1-sass-import-rules-are-deprecated-and-will-be-removed-in-dart-sass-3-0-0","children":[]},{"level":3,"title":"2. Deprecation Warning: Global built-in functions are deprecated and will be removed in Dart Sass 3.0.0.","slug":"_2-deprecation-warning-global-built-in-functions-are-deprecated-and-will-be-removed-in-dart-sass-3-0-0","link":"#_2-deprecation-warning-global-built-in-functions-are-deprecated-and-will-be-removed-in-dart-sass-3-0-0","children":[]},{"level":3,"title":"3. Deprecation Warning: The legacy JS API is deprecated and will be removed in Dart Sass 2.0.0.","slug":"_3-deprecation-warning-the-legacy-js-api-is-deprecated-and-will-be-removed-in-dart-sass-2-0-0","link":"#_3-deprecation-warning-the-legacy-js-api-is-deprecated-and-will-be-removed-in-dart-sass-2-0-0","children":[]},{"level":3,"title":"4. Internal server error: [sass] Undefined variable.","slug":"_4-internal-server-error-sass-undefined-variable","link":"#_4-internal-server-error-sass-undefined-variable","children":[]}]}],"git":{"createdTime":1740490216000,"updatedTime":1740573595000,"contributors":[{"name":"hr-koala","username":"hr-koala","email":"htong890@outlook.com","commits":2,"url":"https://github.com/hr-koala"}]},"readingTime":{"minutes":1.63,"words":488},"filePathRelative":"css/scss.md","localizedDate":"2025年2月26日","excerpt":"<h2>vue vite sass 报错处理 Sass 3.0.0</h2>\\n<h3>1. Sass @import rules are deprecated and will be removed in Dart Sass 3.0.0</h3>\\n<p>sass 1.80 不再支持 @import 需要使用 `@use’</p>\\n<p>错误提示:</p>\\n<blockquote>\\n<p>DEPRECATION WARNING: Sass @import rules are deprecated and will be removed in Dart Sass 3.0.0.<br>\\nMore info and automated migrator: <a href=\\"https://sass-lang.com/d/import\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://sass-lang.com/d/import</a><br>\\n--<code>@import \\"./element-plus.scss\\"</code>;</p>\\n</blockquote>","autoDesc":true}');export{h as comp,k as data};
